!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function n(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,n;e=r,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){l=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw o}}}}function p(t,e){var u=[],l=[];return t.length&&function t(e,n){if(1===e.length)u.push(e[0]),l.push(e[0]);else{for(var r=Array(e.length-1),o=0;o<r.length;o++)0===o&&u.push(e[0]),o===r.length-1&&l.push(e[o+1]),r[o]=[(1-n)*e[o][0]+n*e[o+1][0],(1-n)*e[o][1]+n*e[o+1][1]];t(r,n)}}(t,e),{left:u,right:l.reverse()}}function r(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),3<=t.length&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function f(t,e,n){t=[[t.x,t.y]];return null!=e.x1&&t.push([e.x1,e.y1]),null!=e.x2&&t.push([e.x2,e.y2]),t.push([e.x,e.y]),function(t,e){for(var n=[],r=t,o=1/(e=e||2),u=0;u<e-1;u++){var l=p(r,o/(1-o*u));n.push(l.left),r=l.right}return n.push(r),n}(t,n).map(r)}var y=/[MLCSTQAHVZmlcstqahvz]|-?(\d+\.|\.)?\d+([Ee][-+]?\d+)?/g,s={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function g(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function o(a,t,o){var e=a.length-1,t=t.length-1,u=e/t,t=g(t).reduce(function(t,e,n){var r=Math.floor(u*n);return o&&r<a.length-1&&o(a[r],a[r+1])&&t[r]&&(u*n%1<.5?0<r?--r:r<a.length-1&&(r+=1):r<a.length-1?r+=1:0<r&&--r),t[r]=(t[r]||0)+1,t},[]).reduce(function(t,e,n){if(n!==a.length-1)return t.concat((r=a[n],o=a[n+1],u=e,n=[],"L"===o.type||"Q"===o.type||"C"===o.type?n=n.concat(f(r,o,u)):("M"===(l=i({},r)).type&&(l.type="L"),(n=n.concat(g(u-1).map(function(){return l}))).push(o)),n));var r,o,u,l,e=g(e,i({},a[a.length-1]));return"M"===e[0].type&&e.forEach(function(t){t.type="L"}),t.concat(e)},[]);return t.unshift(a[0]),t}function d(t){for(var e,n=(t||"").match(y)||[],r=[],o={},u=!1,l=0;l<n.length;++l){if((e=s[n[l]])||(e=s[o.type],u=!0),e){u?o={type:"M"===o.type?"L":"m"===o.type?"l":o.type}:(o={type:n[l]},l++);for(var a=0;a<e.length;++a){var i=n[l+a];(i=i.startsWith(".")?"0"+i:i).startsWith("-.")&&(i="-0."+i.split(".")[1]),o[e[a]]=+i}l+=e.length-1,r.push(o)}u=!1}return r}function v(t,i,e){var c=null==t?[]:t.slice(),p=null==i?[]:i.slice(),t="object"===a(e)?e:{excludeSegment:e,snapEndsToInput:!0},e=t.excludeSegment,f=t.snapEndsToInput;if(!c.length&&!p.length)return function(){return[]};t=!(0!==c.length&&"Z"!==c[c.length-1].type||0!==p.length&&"Z"!==p[p.length-1].type);0<c.length&&"Z"===c[c.length-1].type&&c.pop(),0<p.length&&"Z"===p[p.length-1].type&&p.pop(),c.length?p.length||p.push(c[0]):c.push(p[0]),0!==Math.abs(p.length-c.length)&&(p.length>c.length?c=o(c,p,e):p.length<c.length&&(p=o(p,c,e)));var y=(c=c.map(function(t,e){return r=t,o=p[e],l={x1:"x",y1:"y",x2:"x",y2:"y"},a=["xAxisRotation","largeArcFlag","sweepFlag"],r.type!==o.type&&"M"!==o.type.toUpperCase()&&(u={},Object.keys(o).forEach(function(t){var e=o[t],n=r[t];void 0===n&&(a.includes(t)?n=e:void 0===(n=void 0===n&&l[t]?r[l[t]]:n)&&(n=0)),u[t]=n}),u.type=o.type,r=u),r;var r,o,u,l,a})).map(function(t){return n({},t)});return t&&(y.push({type:"Z"}),c.push({type:"Z"})),function(t){if(1===t&&f)return null==i?[]:i;if(0===t)return c;for(var e=0;e<y.length;++e){var n,r=c[e],o=p[e],u=y[e],l=h(s[u.type]);try{for(l.s();!(n=l.n()).done;){var a=n.value;u[a]=(1-t)*r[a]+t*o[a],"largeArcFlag"!==a&&"sweepFlag"!==a||(u[a]=Math.round(u[a]))}}catch(t){l.e(t)}finally{l.f()}}return y}}Object.keys(s).forEach(function(t){s[t.toLowerCase()]=s[t]}),t.interpolatePath=function(t,o,e){var n=d(t),r=d(o),e=(t="object"===a(e)?e:{excludeSegment:e,snapEndsToInput:!0}).excludeSegment,u=t.snapEndsToInput;if(!n.length&&!r.length)return function(){return""};var l=v(n,r,{excludeSegment:e,snapEndsToInput:u});return function(t){if(1===t&&u)return null==o?"":o;var e,n="",r=h(l(t));try{for(r.s();!(e=r.n()).done;)n+=function(e){return"".concat(e.type).concat(s[e.type].map(function(t){return e[t]}).join(","))}(e.value)}catch(t){r.e(t)}finally{r.f()}return n}},t.interpolatePathCommands=v,t.pathCommandsFromString=d,Object.defineProperty(t,"__esModule",{value:!0})});